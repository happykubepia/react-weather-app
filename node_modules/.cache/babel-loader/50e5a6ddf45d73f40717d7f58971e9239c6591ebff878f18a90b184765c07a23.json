{"ast":null,"code":"import{db}from\"../backend/app_backend\";import jQuery from\"jquery\";import Swal from\"sweetalert2\";import navigate from\"../inc/scripts/utilities\";export const saveLocation=e=>{e.preventDefault();jQuery($=>{$.noConflict();const $defaultLocation=$(\"#defaultLocation\").val().trim();//check if the location is empty\nif($defaultLocation===undefined||$defaultLocation==\"\"){Swal.fire({title:\"Invalid Location!\",html:\"<p class=' text-center text-danger'>Please enter a valid location</p>\",confirmButtonColor:\"rgb(83, 166, 250)\",allowOutsideClick:false,allowEscapeKey:false,allowEnterKey:false,timer:4000});}else{db.update(\"USER_DEFAULT_LOCATION\",$defaultLocation);Swal.fire({text:\"Location updated successfully!\",icon:\"success\",toast:true,position:\"top\",showConfirmButton:false,timer:3000});}});};export const getDefaultLocation=()=>{return db.get(\"USER_DEFAULT_LOCATION\");};export const restoreFactorySettings=()=>{db.destroy();navigate(\"/\");};export const trackSavedLocationWeather=()=>{jQuery($=>{$.noConflict();const $toggleBtn=document.getElementById(\"flexSwitchCheckDefault\");if($toggleBtn.checked){//check if the value is in the database, then update it\nif(db.get(\"TRACK_SAVED_LOCATION_WEATHER\")){db.update(\"TRACK_SAVED_LOCATION_WEATHER\",true);Swal.fire({text:\"Saved location would be tracked!\",icon:\"success\",toast:true,position:\"top\",showConfirmButton:false,timer:3000});}else{db.create(\"TRACK_SAVED_LOCATION_WEATHER\",true);Swal.fire({text:\"Saved location would be tracked by default!\",icon:\"info\",toast:true,position:\"top\",showConfirmButton:false,timer:3000});}}else{if(db.get(\"TRACK_SAVED_LOCATION_WEATHER\")){db.update(\"TRACK_SAVED_LOCATION_WEATHER\",false);Swal.fire({text:\"Saved location would not be tracked!\",icon:\"warning\",toast:true,position:\"top\",showConfirmButton:false,timer:3000});}}});};export const checkTrackedLocation=()=>{let value=db.get(\"TRACK_SAVED_LOCATION_WEATHER\");if(value===true){return true;}else{return false;}};export const changeWeatherUnit=e=>{jQuery($=>{e.preventDefault();const weatherUnit=$(\"#weatherUnitContainer\").val();let unitToStore;switch(weatherUnit){case\"0\":unitToStore=\"metric\";break;case\"1\":unitToStore=\"default\";break;case\"2\":unitToStore=\"imperial\";break;default:Swal.fire({toast:true,text:\"Select a valid unit\",icon:\"warning\",timer:1000,position:\"top\",showConfirmButton:false});break;}//check if valuex exists in the DB\nif(db.get(\"WEATHER_UNIT\")){db.update(\"WEATHER_UNIT\",unitToStore);Swal.fire({toast:true,text:\"Weather unit updated successfully\",icon:\"success\",timer:1500,position:\"top\",showConfirmButton:false});}else{db.create(\"WEATHER_UNIT\",unitToStore);Swal.fire({toast:true,text:\"Weather unit stored successfully\",icon:\"info\",timer:1500,position:\"top\",showConfirmButton:false});}});};","map":{"version":3,"names":["db","jQuery","Swal","navigate","saveLocation","e","preventDefault","$","noConflict","$defaultLocation","val","trim","undefined","fire","title","html","confirmButtonColor","allowOutsideClick","allowEscapeKey","allowEnterKey","timer","update","text","icon","toast","position","showConfirmButton","getDefaultLocation","get","restoreFactorySettings","destroy","trackSavedLocationWeather","$toggleBtn","document","getElementById","checked","create","checkTrackedLocation","value","changeWeatherUnit","weatherUnit","unitToStore"],"sources":["/Users/ondal/react/react-weather-app/src/backend/settings.js"],"sourcesContent":["import { db } from \"../backend/app_backend\";\nimport jQuery from \"jquery\";\nimport Swal from \"sweetalert2\";\nimport navigate from \"../inc/scripts/utilities\";\n\nexport const saveLocation = (e) => {\n\te.preventDefault();\n\n\tjQuery(($) => {\n\t\t$.noConflict();\n\n\t\tconst $defaultLocation = $(\"#defaultLocation\").val().trim();\n\n\t\t//check if the location is empty\n\t\tif ($defaultLocation === undefined || $defaultLocation == \"\") {\n\t\t\tSwal.fire({\n\t\t\t\ttitle: \"Invalid Location!\",\n\t\t\t\thtml: \"<p class=' text-center text-danger'>Please enter a valid location</p>\",\n\t\t\t\tconfirmButtonColor: \"rgb(83, 166, 250)\",\n\t\t\t\tallowOutsideClick: false,\n\t\t\t\tallowEscapeKey: false,\n\t\t\t\tallowEnterKey: false,\n\t\t\t\ttimer: 4000,\n\t\t\t});\n\t\t} else {\n\t\t\tdb.update(\"USER_DEFAULT_LOCATION\", $defaultLocation);\n\t\t\tSwal.fire({\n\t\t\t\ttext: \"Location updated successfully!\",\n\t\t\t\ticon: \"success\",\n\t\t\t\ttoast: true,\n\t\t\t\tposition: \"top\",\n\t\t\t\tshowConfirmButton: false,\n\t\t\t\ttimer: 3000,\n\t\t\t});\n\t\t}\n\t});\n};\n\nexport const getDefaultLocation = () => {\n\treturn db.get(\"USER_DEFAULT_LOCATION\");\n};\n\nexport const restoreFactorySettings = () => {\n\tdb.destroy();\n\tnavigate(\"/\");\n};\n\nexport const trackSavedLocationWeather = () => {\n\tjQuery(($) => {\n\t\t$.noConflict();\n\t\tconst $toggleBtn = document.getElementById(\"flexSwitchCheckDefault\");\n\n\t\tif ($toggleBtn.checked) {\n\t\t\t//check if the value is in the database, then update it\n\t\t\tif (db.get(\"TRACK_SAVED_LOCATION_WEATHER\")) {\n\t\t\t\tdb.update(\"TRACK_SAVED_LOCATION_WEATHER\", true);\n\t\t\t\tSwal.fire({\n\t\t\t\t\ttext: \"Saved location would be tracked!\",\n\t\t\t\t\ticon: \"success\",\n\t\t\t\t\ttoast: true,\n\t\t\t\t\tposition: \"top\",\n\t\t\t\t\tshowConfirmButton: false,\n\t\t\t\t\ttimer: 3000,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tdb.create(\"TRACK_SAVED_LOCATION_WEATHER\", true);\n\t\t\t\tSwal.fire({\n\t\t\t\t\ttext: \"Saved location would be tracked by default!\",\n\t\t\t\t\ticon: \"info\",\n\t\t\t\t\ttoast: true,\n\t\t\t\t\tposition: \"top\",\n\t\t\t\t\tshowConfirmButton: false,\n\t\t\t\t\ttimer: 3000,\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tif (db.get(\"TRACK_SAVED_LOCATION_WEATHER\")) {\n\t\t\t\tdb.update(\"TRACK_SAVED_LOCATION_WEATHER\", false);\n\t\t\t\tSwal.fire({\n\t\t\t\t\ttext: \"Saved location would not be tracked!\",\n\t\t\t\t\ticon: \"warning\",\n\t\t\t\t\ttoast: true,\n\t\t\t\t\tposition: \"top\",\n\t\t\t\t\tshowConfirmButton: false,\n\t\t\t\t\ttimer: 3000,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n};\n\nexport const checkTrackedLocation = () => {\n\tlet value = db.get(\"TRACK_SAVED_LOCATION_WEATHER\");\n\tif (value === true) {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\nexport const changeWeatherUnit = (e) => {\n\tjQuery(($) => {\n\t\te.preventDefault();\n\t\tconst weatherUnit = $(\"#weatherUnitContainer\").val();\n\t\tlet unitToStore;\n\t\tswitch (weatherUnit) {\n\t\t\tcase \"0\":\n\t\t\t\tunitToStore = \"metric\";\n\t\t\t\tbreak;\n\t\t\tcase \"1\":\n\t\t\t\tunitToStore = \"default\";\n\t\t\t\tbreak;\n\t\t\tcase \"2\":\n\t\t\t\tunitToStore = \"imperial\";\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tSwal.fire({\n\t\t\t\t\ttoast:true,\n\t\t\t\t\ttext:\"Select a valid unit\",\n\t\t\t\t\ticon:\"warning\",\n\t\t\t\t\ttimer:1000,\n\t\t\t\t\tposition:\"top\",\n\t\t\t\t\tshowConfirmButton:false,\n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t\tbreak;\n\t\t}\n\t\t//check if valuex exists in the DB\n\t\tif(db.get(\"WEATHER_UNIT\")){\n\t\t\tdb.update(\"WEATHER_UNIT\",unitToStore);\n\t\t\tSwal.fire({\n\t\t\t\ttoast:true,\n\t\t\t\ttext:\"Weather unit updated successfully\",\n\t\t\t\ticon:\"success\",\n\t\t\t\ttimer:1500,\n\t\t\t\tposition:\"top\",\n\t\t\t\tshowConfirmButton:false\n\t\t\t})\n\t\t}else{\n\t\t\tdb.create(\"WEATHER_UNIT\",unitToStore);\n\t\t\tSwal.fire({\n\t\t\t\ttoast:true,\n\t\t\t\ttext:\"Weather unit stored successfully\",\n\t\t\t\ticon:\"info\",\n\t\t\t\ttimer:1500,\n\t\t\t\tposition:\"top\",\n\t\t\t\tshowConfirmButton:false\n\t\t\t})\n\t\t}\n\t});\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}